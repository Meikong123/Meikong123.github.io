<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
    <title>防御方法</title>
    <link rel="stylesheet" href="css/css-attack.css">
    <script>
        const correctHash = "4fec0d8bbf9c8e725e63d39141804c1417dcc1bde4752c0aa210dd7ad646747f";
        const verifiedKey = 'passwordVerified';

        async function generateHash(message) {
            const msgBuffer = new TextEncoder().encode(message);
            const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            return hashArray.map(byte => byte.toString(16).padStart(2, '0')).join('');
        }

        async function verifyPassword() {
            const isVerified = localStorage.getItem(verifiedKey);
            if (isVerified === 'true') {
                return;
            }

            const userInput = prompt("请输入密码：");
            if (!userInput) {
                alert("取消访问！");
                window.location.href = "index.html";
                return;
            }
            const userHash = await generateHash(userInput);
            if (userHash === correctHash) {
                localStorage.setItem(verifiedKey, 'true');
            } else {
                alert("密码错误！");
                window.location.href = "index.html";
            }
        }

        window.onload = verifyPassword;
    </script>
</head>

<body>

    <div class="web">

        <!-- 导航栏 -->
        <div id="nav">
            <ul>
                <li><a href="index.html">首页</a></li>
                <li><a href="introduce.html">科研工具</a></li>
                <li><a href="backdoor.html">后门攻击</a></li>
                <li><a href="attack.html">攻击方法</a></li>
                <li><a href="defend.html" class="active">防御方法</a></li>
                <li><a href="chat.html">交流讨论</a></li>
                <li><a href="callme.html">我要投稿</a></li>
                <li><a href="about.html">关于我们</a></li>
            </ul>
        </div>

        <!-- 主体内容 -->
        <div class="main">
            <div class="title"><strong>图像领域防御方法整理</strong></div>
        </div>

        <!-- 页脚 -->
        <div class="foot">Copyright @ 2025 - 2125 Backdoor Attack ALL Rights</div>

    </div>

</body>

</html>
